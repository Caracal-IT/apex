<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport"content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible"content="ie=edge">
    <title>Apex Workflow Components</title>  
    <script src="polaris_web_components/workflow.js?v1.0.8"></script>
    <script nomodule src="webcomponents/webcomponents-loader.js"></script>

    <link rel="stylesheet" href="css/default.theme.css"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>
 
<body>
    <polaris-loader></polaris-loader>

    <div id="theme">
        <h4>Theme</h4>
        <button data-theme='dark' id="dark-button">Dark</button>
        <button data-theme= 'default' id="light-button">Light</button>
    </div>

    <polaris-workflow url="data/settings.json" process="default"></polaris-workflow>

    <script>
        const style = document.querySelector('link:first-of-type');
        const darkThemeButton = document.querySelector("#dark-button");
        const lightThemeButton = document.querySelector("#light-button");
        
        lightThemeButton.addEventListener('click', setTheme);
        darkThemeButton.addEventListener('click', setTheme);

        function setTheme(e){
            const theme = e.target.dataset.theme||'default';
            localStorage.setItem('orion-theme', theme);
            style.href = `css/${theme}.theme.css`;
        }

        const theme = localStorage.getItem('orion-theme');

        if(theme)
            style.href = `css/${theme}.theme.css`;
    </script>
</body>
</html>