<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport"content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible"content="ie=edge">
    <title>Apex Workflow Components</title>  
    <script src="polaris_web_components/workflow.js?v1.0.6"></script>
    
    <script nomodule src="webcomponents/webcomponents-loader.js"></script>
</head>
 
<body>
    <style></style>
    <style>
        #theme {
            position: absolute;
            right: 10px;
        }

        h4 {
            display: inline-block;
            color: var(--primary-color);
        }

        button {
            color: var(--primary-color);
            border:0;
            background-color: transparent;
        }

        button:focus {
            outline: none;
        }

        polaris-workflow {
            display: block;
            box-sizing: border-box;
            margin: auto;
            padding: 10px;
            
            max-width: 600px;
        }
    </style>
    <polaris-loader></polaris-loader>

    <div id="theme">
        <h4>Theme</h4>
        <button id="dark-button">Dark</button>
        <button id="light-button">Light</button>
    </div>

    <polaris-workflow url="data/settings.json" process="default"></polaris-workflow>

    <script>
        const style = document.querySelector("style");
        const darkThemeButton = document.querySelector("#dark-button");
        const lightThemeButton = document.querySelector("#light-button");
        
        lightThemeButton.addEventListener('click', () => { 
            style.innerText = ''; 
            localStorage.setItem('orion-theme', 'light');
        });

        darkThemeButton.addEventListener('click', () => {
            localStorage.setItem('orion-theme', 'dark');
            changeToDarkTheme();
        });

        const theme = localStorage.getItem('apex-theme');

        if(theme === 'dark')
            changeToDarkTheme();

        function changeToDarkTheme() {
            style.innerText = `
                body {
                    color: white;
                    background-color: #222;
                }

                :root {
                    --input-background: #555;
                    --input-background-2: #888;
                    --input-background-3: #555;
                    --input-background-4: #DDD;

                    --primary-color: hotpink;
                    --primary-bg-font-color: #f5f5f5;
                    --primary-font-color: whitesmoke;
                    --primary-disabled-color: #888;
                    --primary-font-disabled-color: whitesmoke;
                    --primary-color-hover: pink;
                    --primary-bg-font-color-hover: #292929;
                    
                    --border-color: #C0C0C0;
                    --border: 1px solid #C0C0C0;
                    --border-active: 2px solid hotpink;
                    --border-in-active: 2px solid #989898;
                    --border-component: 2px solid #686868;
                    
                    --border-radius-small: 5px;
                    --border-radius-medium: 10px;
                    --border-radius-large: 15px;
                    
                    --shadow-light: 3px 2px 2px rgba(255, 255, 255, 0.4);
                    --shadow-medium: 3px 4px 4px rgba(255, 255, 255, 0.4);
                    
                    --backdrop: rgba(255, 255, 255, 0.5);
                    
                    --error-color: red;
                    --error-border-color: red;
                    --error-light-color: #ffb6c1
                }`;
        }
    </script>
</body>
</html>